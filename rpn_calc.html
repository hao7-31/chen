<!DOCTYPE html>
<html lang="en-us">
<head>
  <title>rpn_calc.nim</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>🐳</text></svg>">
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="nimib 0.3.13" name="generator">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
<link rel="stylesheet" media="(prefers-color-scheme: dark)" 
href="https://cdn.jsdelivr.net/gh/highlightjs/highlight.js/src/styles/night-owl.css">
<link rel="stylesheet" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)" 
href="https://cdn.jsdelivr.net/gh/highlightjs/highlight.js/src/styles/atom-one-light.css">

  <link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/pietroppeter/nimib/assets/atom-one-light.css'>
    <script src="https://cdn.jsdelivr.net/gh/pietroppeter/nimib@main/assets/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

  <style>
.nb-box {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.nb-small {
  font-size: 0.8rem;
}
button.nb-small {
  float: right;
  padding: 2px;
  padding-right: 5px;
  padding-left: 5px;
}
section#source {
  display:none
}
pre > code {
  font-size: 1.2em;
}
.nb-output {
  line-height: 1.15;
}
figure {
  margin: 2rem 0;
}
figcaption {
  text-align: center;
}
  
</style>
  
</head>
<body>
<header>
<div class="nb-box">
  <span><a href=".">🏡</a></span>
  <span><code>rpn_calc.nim</code></span>
  <span></span>
</div>
<hr>
</header><main>
<style>
pre code { border-radius: 4px 4px 0 0; }
pre { border: 1px solid #809eb7; border-radius: 4px 4px 0 0; margin-bottom: 0; }
pre.nb-output { border: 1px solid #809eb7; border-radius: 0 0 8px 8px; border-top: none; 
padding: 0.8em; margin-top: 0; overflow-x: auto; }
</style>
<h1>《RPN 计算器说明文档》</h1>
<ul>
<li>作者：[你的名字]</li>
<li>版本：1.0.0</li>
<li>修订、nimib 移植：[你的名字]</li>
</ul>
<h2>引言</h2>
<p>RPN（逆波兰表示法）计算器是一种基于栈操作的计算工具，它通过“操作数入栈，运算符作用于栈顶元素”的逻辑完成计算，避免了传统中缀表达式的括号依赖，在工程计算、编程领域有着广泛应用。</p>
<p>本文档将详细介绍 RPN 计算器的原理、使用方法及实现细节，帮助您快速掌握这一实用工具。</p>
<h2>目录:</h2>
<ol>
<li><a href="#rpn-计算原理">RPN 计算原理</a></li>
<li><a href="#rpn-计算器的使用方法">RPN 计算器的使用方法</a>
<ul>
<li><a href="#基本操作">基本操作</a></li>
<li><a href="#常用运算符">常用运算符</a></li>
</ul>
</li>
<li><a href="#rpn-计算器的实现（nim-代码）">RPN 计算器的实现（Nim 代码）</a></li>
</ol>
<p><a name="rpn-计算原理"></a>
<br></p>
<h3>RPN 计算原理</h3>
<hr />
<p>逆波兰表示法（RPN）是一种将运算符放在操作数之后的表达式表示方法。例如，中缀表达式 <code>3 + 4</code> 在 RPN 中表示为 <code>3 4 +</code>。其核心计算逻辑基于<strong>栈结构</strong>：</p>
<ol>
<li>遇到操作数时，将其压入栈中；</li>
<li>遇到运算符时，从栈中弹出足够数量的操作数（如二元运算符弹出两个），执行运算后将结果压回栈中；</li>
<li>表达式结束时，栈顶元素即为最终结果。</li>
</ol>
<pre><code class="nohighlight hljs nim"><span class="hljs-comment"># 以 &quot;3 4 + 5 *&quot; 为例，计算过程如下：</span>
<span class="hljs-comment"># 栈变化：[3] → [3,4] → [7] → [7,5] → [35]</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;最终结果为 35&quot;</span></code></pre>
<p>这种设计的优势在于无需解析括号优先级，计算流程更直观，也更易通过程序实现。</p>
<p><a name="rpn-计算器的使用方法"></a>
<br></p>
<h3>RPN 计算器的使用方法</h3>
<hr />
<p><a name="基本操作"></a>
<br></p>
<h4>基本操作</h4>
<hr />
<p>启动 RPN 计算器后，您可以通过输入操作数和运算符来执行计算。以下是基本操作示例：</p>
<pre><code class="nohighlight hljs nim"><span class="hljs-comment"># 计算 (2 + 3) * 4</span>
<span class="hljs-comment"># 输入：2 3 + 4 *</span>
<span class="hljs-comment"># 步骤：</span>
<span class="hljs-comment"># 2 入栈 → 3 入栈 → + 运算（2+3=5 入栈）→ 4 入栈 → * 运算（5*4=20 入栈）</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;结果：20&quot;</span></code></pre>
<p>输入完成后，栈顶元素即为计算结果。您可以继续在当前栈的基础上输入新的操作数和运算符，实现连续计算。</p>
<p><a name="常用运算符"></a>
<br></p>
<h4>常用运算符</h4>
<hr />
<p>本计算器支持以下常用运算符：</p>
<ul>
<li><code>+</code>：加法，如 <code>1 2 +</code> 结果为 <code>3</code>；</li>
<li><code>-</code>：减法，如 <code>5 3 -</code> 结果为 <code>2</code>；</li>
<li><code>*</code>：乘法，如 <code>4 5 *</code> 结果为 <code>20</code>；</li>
<li><code>/</code>：除法，如 <code>8 2 /</code> 结果为 <code>4</code>；</li>
<li><code>^</code>：幂运算，如 <code>2 3 ^</code> 结果为 <code>8</code>；</li>
<li><code>sqrt</code>：平方根，如 <code>16 sqrt</code> 结果为 <code>4</code>（单操作数，弹出栈顶元素计算后压回）。</li>
</ul>
<p><a name="rpn-计算器的实现（nim-代码）"></a>
<br></p>
<h3>RPN 计算器的实现（Nim 代码）</h3>
<hr />
<p>以下是一个简单 RPN 计算器的 Nim 实现代码，它通过栈结构处理输入的表达式：</p>
</main>
<footer>
<div class="nb-box">
  <span><span class="nb-small">made with <a href="https://pietroppeter.github.io/nimib/">nimib 🐳</a></span></span>
  <span></span>
  <span><button class="nb-small" id="show" onclick="toggleSourceDisplay()">Show Source</button></span>
</div>
</footer>
<section id="source">
<pre><code class="nohighlight nim hljs"><span class="hljs-keyword">import</span> std/strutils
<span class="hljs-keyword">import</span> nimib
<span class="hljs-keyword">import</span> ./theme/codeOutput  <span class="hljs-comment"># 若有自定义代码主题模块可保留，否则可移除</span>

<span class="hljs-keyword">var</span> nbToc: <span class="hljs-type">NbBlock</span>

<span class="hljs-keyword">template</span> addToc =
  newNbBlock(<span class="hljs-string">&quot;nbText&quot;</span>, <span class="hljs-literal">false</span>, nb, nbToc, <span class="hljs-string">&quot;&quot;</span>):
    nbToc.output = <span class="hljs-string">&quot;## 目录:</span><span class="hljs-meta">\n</span><span class="hljs-meta">\n</span><span class="hljs-string">&quot;</span>

<span class="hljs-keyword">template</span> nbNewSection(name: <span class="hljs-built_in">string</span>) =
  <span class="hljs-keyword">let</span> anchorName = name.toLower.replace(<span class="hljs-string">&quot; &quot;</span>, <span class="hljs-string">&quot;-&quot;</span>)
  nbText <span class="hljs-string">&quot;&lt;a name=</span><span class="hljs-meta">\&quot;</span><span class="hljs-string">&quot;</span> &amp; anchorName &amp; <span class="hljs-string">&quot;</span><span class="hljs-meta">\&quot;</span><span class="hljs-string">&gt;&lt;/a&gt;</span><span class="hljs-meta">\n</span><span class="hljs-string">&lt;br&gt;</span><span class="hljs-meta">\n</span><span class="hljs-string">### &quot;</span> &amp; name &amp; <span class="hljs-string">&quot;</span><span class="hljs-meta">\n</span><span class="hljs-meta">\n</span><span class="hljs-string">---&quot;</span>
  nbToc.output.add <span class="hljs-string">&quot;1. &lt;a href=</span><span class="hljs-meta">\&quot;</span><span class="hljs-string">#&quot;</span> &amp; anchorName &amp; <span class="hljs-string">&quot;</span><span class="hljs-meta">\&quot;</span><span class="hljs-string">&gt;&quot;</span> &amp; name &amp; <span class="hljs-string">&quot;&lt;/a&gt;</span><span class="hljs-meta">\n</span><span class="hljs-string">&quot;</span>

<span class="hljs-keyword">template</span> nbSubSection(name: <span class="hljs-built_in">string</span>) =
  <span class="hljs-keyword">let</span> anchorName = name.toLower.replace(<span class="hljs-string">&quot; &quot;</span>, <span class="hljs-string">&quot;-&quot;</span>)
  nbText <span class="hljs-string">&quot;&lt;a name=</span><span class="hljs-meta">\&quot;</span><span class="hljs-string">&quot;</span> &amp; anchorName &amp; <span class="hljs-string">&quot;</span><span class="hljs-meta">\&quot;</span><span class="hljs-string">&gt;&lt;/a&gt;</span><span class="hljs-meta">\n</span><span class="hljs-string">&lt;br&gt;</span><span class="hljs-meta">\n</span><span class="hljs-string">#### &quot;</span> &amp; name &amp; <span class="hljs-string">&quot;</span><span class="hljs-meta">\n</span><span class="hljs-meta">\n</span><span class="hljs-string">---&quot;</span>
  nbToc.output.add <span class="hljs-string">&quot;    * &lt;a href=</span><span class="hljs-meta">\&quot;</span><span class="hljs-string">#&quot;</span> &amp; anchorName &amp; <span class="hljs-string">&quot;</span><span class="hljs-meta">\&quot;</span><span class="hljs-string">&gt;&quot;</span> &amp; name &amp; <span class="hljs-string">&quot;&lt;/a&gt;</span><span class="hljs-meta">\n</span><span class="hljs-string">&quot;</span>

<span class="hljs-keyword">template</span> nbQuoteBlock(code: <span class="hljs-built_in">untyped</span>) =
  nbText <span class="hljs-string">&quot;&lt;blockquote&gt;&quot;</span>
  code
  nbText <span class="hljs-string">&quot;&lt;/blockquote&gt;&quot;</span>

nbInit <span class="hljs-comment"># ----------------------------- START ----------------------------------</span>
initCodeTheme()  <span class="hljs-comment"># 若有自定义代码主题初始化逻辑可保留</span>


nbText: <span class="hljs-string">&quot;&quot;&quot;
《RPN 计算器说明文档》
======================================

- 作者：[你的名字]
- 版本：1.0.0
- 修订、nimib 移植：[你的名字]

## 引言

RPN（逆波兰表示法）计算器是一种基于栈操作的计算工具，它通过“操作数入栈，运算符作用于栈顶元素”的逻辑完成计算，避免了传统中缀表达式的括号依赖，在工程计算、编程领域有着广泛应用。

本文档将详细介绍 RPN 计算器的原理、使用方法及实现细节，帮助您快速掌握这一实用工具。

&quot;&quot;&quot;</span>

addToc()

nbNewSection <span class="hljs-string">&quot;RPN 计算原理&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
逆波兰表示法（RPN）是一种将运算符放在操作数之后的表达式表示方法。例如，中缀表达式 `3 + 4` 在 RPN 中表示为 `3 4 +`。其核心计算逻辑基于**栈结构**：

1. 遇到操作数时，将其压入栈中；
2. 遇到运算符时，从栈中弹出足够数量的操作数（如二元运算符弹出两个），执行运算后将结果压回栈中；
3. 表达式结束时，栈顶元素即为最终结果。
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-comment"># 以 &quot;3 4 + 5 *&quot; 为例，计算过程如下：</span>
  <span class="hljs-comment"># 栈变化：[3] → [3,4] → [7] → [7,5] → [35]</span>
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;最终结果为 35&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
这种设计的优势在于无需解析括号优先级，计算流程更直观，也更易通过程序实现。
&quot;&quot;&quot;</span>

nbNewSection <span class="hljs-string">&quot;RPN 计算器的使用方法&quot;</span>

nbSubSection <span class="hljs-string">&quot;基本操作&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
启动 RPN 计算器后，您可以通过输入操作数和运算符来执行计算。以下是基本操作示例：
&quot;&quot;&quot;</span>

nbCodeSkip:
  <span class="hljs-comment"># 计算 (2 + 3) * 4</span>
  <span class="hljs-comment"># 输入：2 3 + 4 *</span>
  <span class="hljs-comment"># 步骤：</span>
  <span class="hljs-comment"># 2 入栈 → 3 入栈 → + 运算（2+3=5 入栈）→ 4 入栈 → * 运算（5*4=20 入栈）</span>
  <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;结果：20&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
输入完成后，栈顶元素即为计算结果。您可以继续在当前栈的基础上输入新的操作数和运算符，实现连续计算。
&quot;&quot;&quot;</span>

nbSubSection <span class="hljs-string">&quot;常用运算符&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
本计算器支持以下常用运算符：
- `+`：加法，如 `1 2 +` 结果为 `3`；
- `-`：减法，如 `5 3 -` 结果为 `2`；
- `*`：乘法，如 `4 5 *` 结果为 `20`；
- `/`：除法，如 `8 2 /` 结果为 `4`；
- `^`：幂运算，如 `2 3 ^` 结果为 `8`；
- `sqrt`：平方根，如 `16 sqrt` 结果为 `4`（单操作数，弹出栈顶元素计算后压回）。
&quot;&quot;&quot;</span>

nbNewSection <span class="hljs-string">&quot;RPN 计算器的实现（Nim 代码）&quot;</span>

nbText: <span class="hljs-string">&quot;&quot;&quot;
以下是一个简单 RPN 计算器的 Nim 实现代码，它通过栈结构处理输入的表达式：
&quot;&quot;&quot;</span>




nbSave <span class="hljs-comment"># ----------------------------- END ------------------------------------</span>

</code></pre>
</section><script>
function toggleSourceDisplay() {
  var btn = document.getElementById("show")
  var source = document.getElementById("source");
  if (btn.innerHTML=="Show Source") {
    btn.innerHTML = "Hide Source";
    source.style.display = "block";
  } else {
    btn.innerHTML = "Show Source";
    source.style.display = "none";
  }
}
</script></body>
</html>